<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head><title>Hebrew Phishing Checker (Final HTML File)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div style="page-break-before:always; page-break-after:always"><div><p>&lt;!DOCTYPE html&gt;&#8203;<br/>&lt;html lang=&quot;he&quot; dir=&quot;rtl&quot;&gt;&#8203;<br/>&lt;head&gt;&#8203;<br/>    &lt;meta charset=&quot;UTF-8&quot;&gt;&#8203;<br/>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, <br/>initial-scale=1.0&quot;&gt;&#8203;<br/>    &lt;title&gt; &#1495;&#1513;&#1493;&#1491;&#1497;&#1501; &#1488;&#1514;&#1512;&#1497;&#1501; &#1500;&#1489;&#1491;&#1497;&#1511;&#1514; &#1495;&#1497;&#1504;&#1502;&#1497; &#1499;&#1500;&#1497; | &#1488;&#1514;&#1512;&#1497;&#1501; &#1489;&#1493;&#1491;&#1511; &lt;/title&gt;&#8203;<br/>    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;&#8203;<br/>    &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; <br/>crossorigin&gt;&#8203;<br/>    &lt;link <br/>href=&quot;https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&amp;<br/>display=swap&quot; rel=&quot;stylesheet&quot;&gt;&#8203;<br/>    &lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;&#8203;<br/>    &lt;style&gt;&#8203;<br/>        /* Using a clear and friendly Hebrew font */&#8203;<br/>        body {&#8203;<br/>            font-family: 'Assistant', sans-serif;&#8203;<br/>        }&#8203;<br/>    &lt;/style&gt;&#8203;<br/>&lt;/head&gt;&#8203;<br/>&lt;body class=&quot;bg-gray-50 text-gray-800&quot;&gt;&#8203;<br/>&#8203;<br/>    &lt;div class=&quot;container mx-auto p-4 sm:p-6 md:p-8 max-w-3xl&quot;&gt;&#8203;<br/>&#8203;<br/>        &lt;!-- Header Section --&gt;&#8203;<br/>        &lt;header class=&quot;text-center mb-8&quot;&gt;&#8203;<br/>            &lt;h1 class=&quot;text-4xl sm:text-5xl font-bold text-blue-600 <br/>mb-2&quot;&gt; &#1492;&#1489;&#1496;&#1493;&#1495; &#1492;&#1488;&#1514;&#1512;&#1497;&#1501; &#1489;&#1493;&#1491;&#1511; &lt;/h1&gt;&#8203;<br/>            &lt;p class=&quot;text-lg sm:text-xl text-gray-600&quot;&gt; &#1511;&#1497;&#1513;&#1493;&#1512; &#1511;&#1497;&#1489;&#1500;&#1514;&#1501;  <br/></p>
<p>?&#1495;&#1513;&#1493;&#1491;? .&lt;/p<br/>        &lt;/header<br/><br/>        &lt;!-- Main Checker Section --<br/>        &lt;main class=&quot;bg-white p-6 sm:p-8 rounded-2xl shadow-lg&quot;<br/>            &lt;div class=&quot;flex flex-col items-center&quot;<br/>                &lt;label for=&quot;urlInput&quot; class=&quot;sr-only&quot; <br/></p>
<p> &lt;/label<br/>                &lt;input type=&quot;url&quot; id=&quot;urlInput&quot; placeholder=<br/></p>
<p> (: example.com)&quot; class=&quot;w-full<br/> text-center text-lg p-4 border-2 border-gray-300 rounded-xl mb-4 <br/>focus:ring-2 focus:ring-blue-500 focus:border-blue-500 tr<br/>ansition&quot;&gt;      <br/>                          &lt;button onclick=&quot;checkUrl()&quot; class=&quot;w-fu<br/>ll sm:w-auto bg-green-500 hover:bg-green-600 text-white font-bold <br/>text-xl py-4 px-10 rounded-xl shadow-md hover:shadow-lg transiti<br/>on-transform transform hover:s<br/>cale-105&quot;&gt;                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>w-6 inline-block ml-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; <br/>stroke=&quot;currentColor&quot;&gt;&#8203;<br/>                        &lt;path stroke-linecap=&quot;round&quot; <br/>stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M9 12l2 2 4-4m6 2a9 9 0 <br/>11-18 0 9 9 0 0118 0z&quot; /&gt;&#8203;<br/>                    &lt;/svg&gt;&#8203;<br/>&#8203;&#1489;&#1491;&#1497;&#1511;&#1492;                    <br/>                &lt;/button&gt;&#8203;<br/>            &lt;/div&gt;&#8203;<br/>&#8203;<br/>            &lt;!-- Results Area --&gt;&#8203;<br/>            &lt;div id=&quot;loader&quot; class=&quot;text-center my-4 hidden&quot;&gt;&#8203;<br/>                &lt;p class=&quot;text-blue-600 font-semibold&quot;&gt; &#1492;&#1488;&#1514;&#1512;, &#1488;&#1514; &#1489;&#1493;&#1491;&#1511; ,<br/></p>
<p> ...&lt;/p<br/>                 &lt;div class=&quot;animate-spin rounded-full h-8 w-8<br/> border-b-2 border-blue-500 mx-auto mt-2&quot;&gt;&lt;/div<br/>            &lt;/div<br/>            &lt;div id=&quot;results&quot; class=&quot;text-center mt-6 p-4 rounded-lg<br/> text-xl font-bold&quot;&gt;&lt;/div<br/>        &lt;/main<br/><br/>        &lt;!-- Footer and Stats Section --<br/>        &lt;footer class=&quot;mt-8 text-center text-gray-500&quot;<br/>            &lt;div class=&quot;bg-white p-6 rounded-2xl shadow-lg mb-6&quot;<br/>                &lt;h2 class=&quot;text-2xl font-bold text-gray-700<br/> mb-4&quot;  &lt;/h2<br/>                &lt;div class=&quot;flex flex-col sm:flex-row justify-around<br/> items-center&quot;<br/>                    &lt;!-- Visitor Counter --<br/>                    &lt;div class=&quot;mb-4 sm:mb-0&quot;<br/>                        &lt;h3 class=&quot;text-lg font-semibold&quot; <br/>:&lt;/h3<br/>                        &lt;p id=&quot;visitorCounter&quot; class=&quot;text-2xl<br/> font-bold text-blue-600&quot;&gt;0&lt;/p<br/>                    &lt;/div<br/>                    &lt;!-- Top Searches --<br/>                    &lt;div<br/>                        &lt;h3 class=&quot;text-lg font-semibold&quot;&gt;10<br/></p>
<p> :&lt;/h3<br/>                        &lt;ul id=&quot;topSearches&quot; class=&quot;list-none<br/> text-gray-600&quot;<br/>                            &lt;!-- Top searches will be populated by<br/> JavaScript --<br/>                            &lt;li  ...&lt;/li<br/>                        &lt;/ul<br/>                    &lt;/div<br/>                &lt;/div<br/>            &lt;/div</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>            &lt;p class=&quot;text-sm&quot;&gt;&#169; 2024 &#1488;&#1514;&#1512;&#1497;&#1501;. &#1489;&#1493;&#1491;&#1511;.<br/> .&lt;/p<br/></p>
<p>        &lt;/footer<br/>    &lt;/div<br/><br/>    &lt;!-- Firebase and App Logic --<br/>    &lt;script type=&quot;module&quot;<br/>        // Import necessary Firebase function<br/>        import { initializeApp } from<br/> &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js&quot;<br/>        import { getAuth, signInAnonymously, signInWithCustomToken }<br/> from &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js&quot;<br/>        import { getFirestore, collection, doc, getDocs, setDoc,<br/> onSnapshot, serverTimestamp, runTransaction } from<br/> &quot;https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js&quot;<br/>       <br/>        // --- Firebase Configuration --<br/>        // These variables are provided by the environment and should<br/> not be changed<br/>        const firebaseConfig = typeof __firebase_config !==<br/> 'undefined' ? JSON.parse(__firebase_config) : { apiKey:<br/> &quot;your-fallback-api-key&quot;, authDomain: &quot;your-fallback-auth-domain&quot;,<br/> projectId: &quot;your-fallback-project-id&quot; }<br/>        const appId = typeof __app_id !== 'undefined' ? __app_id :<br/> 'default-app-id'<br/><br/>        // --- Initialize Firebase --<br/>        const app = initializeApp(firebaseConfig)<br/>        const auth = getAuth(app)<br/>        const db = getFirestore(app)<br/>       <br/>        // Collection reference for storing search count<br/>        const searchesCollection = collection(db,<br/> `artifacts/${appId}/public/data/searches`)<br/><br/>        /*<br/>         * Signs the user in. Uses a custom token if available,<br/> otherwise falls back to anonymous sign-in<br/>         *<br/>        async function authenticateUser() <br/>            try <br/>                if (typeof __initial_auth_token !== 'undefined' &amp;&amp;<br/> __initial_auth_token) <br/>                    await signInWithCustomToken(auth,<br/> __initial_auth_token)<br/>                } else <br/>                    await signInAnonymously(auth)<br/>                </p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>            } catch (error) {&#8203;<br/>                console.error(&quot;Authentication failed:&quot;, error);&#8203;<br/>            }&#8203;<br/>        }&#8203;<br/>        &#8203;<br/>        /**&#8203;<br/>         * Updates the visitor counter on the page using the browser's <br/>local storage.&#8203;<br/>         * This counter is unique to each user's browser.&#8203;<br/>         */&#8203;<br/>        function updateVisitorCounter() {&#8203;<br/>            let visits = localStorage.getItem('pageVisits');&#8203;<br/>            visits = visits ? Number(visits) + 1 : 1;&#8203;<br/>            localStorage.setItem('pageVisits', visits);&#8203;<br/>            document.getElementById('visitorCounter').textContent = <br/>visits.toLocaleString();&#8203;<br/>        }&#8203;<br/>&#8203;<br/>        /**&#8203;<br/>         * Increments the search count for a given URL in Firestore.&#8203;<br/>         * Uses a transaction to ensure the count is updated <br/>atomically.&#8203;<br/>         * @param {string} url - The URL that was searched.&#8203;<br/>         */&#8203;<br/>        async function incrementSearchCount(url) {&#8203;<br/>            if (!auth.currentUser) {&#8203;<br/>                console.error(&quot;User not authenticated, cannot track <br/>search.&quot;);&#8203;<br/>                return;&#8203;<br/>            }&#8203;<br/>            // Sanitize URL to create a valid document ID&#8203;<br/>            const docId = url.replace(/[^a-zA-Z0-9.-]/g, '_');&#8203;<br/>            const docRef = doc(searchesCollection, docId);&#8203;<br/>&#8203;<br/>            try {&#8203;<br/>                await runTransaction(db, async (transaction) =&gt; {&#8203;<br/>                    const sfDoc = await transaction.get(docRef);&#8203;<br/>                    if (!sfDoc.exists()) {&#8203;<br/>                        transaction.set(docRef, { url: url, count: 1, <br/>lastSearched: serverTimestamp() });&#8203;<br/>                    } else {&#8203;<br/>                        const newCount = sfDoc.data().count + 1;&#8203;<br/>                        transaction.update(docRef, { count: newCount, <br/>lastSearched: serverTimestamp() });&#8203;<br/>                    }&#8203;<br/>                });&#8203;<br/>            } catch (e) {&#8203;<br/>                console.error(&quot;Transaction failed: &quot;, e);&#8203;</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>            }&#8203;<br/>        }&#8203;<br/>&#8203;<br/>        /**&#8203;<br/>         * Listens for real-time updates to the search data and <br/>displays the top 10.&#8203;<br/>         */&#8203;<br/>        function listenForTopSearches() {&#8203;<br/>            onSnapshot(searchesCollection, (snapshot) =&gt; {&#8203;<br/>                const searchCounts = [];&#8203;<br/>                snapshot.forEach((doc) =&gt; {&#8203;<br/>                    searchCounts.push(doc.data());&#8203;<br/>                });&#8203;<br/>&#8203;<br/>                // Sort by count descending and take the top 10&#8203;<br/>                const sortedSearches = searchCounts.sort((a, b) =&gt; <br/>b.count - a.count).slice(0, 10);&#8203;<br/>                &#8203;<br/>                const topSearchesList = <br/>document.getElementById('topSearches');&#8203;<br/>                topSearchesList.innerHTML = ''; // Clear previous list&#8203;<br/>&#8203;<br/>                if (sortedSearches.length === 0) {&#8203;<br/>                     topSearchesList.innerHTML = '&lt;li&gt; &#1489;&#1493;&#1510;&#1506;&#1493; &#1500;&#1488; &#1506;&#1491;&#1497;&#1497;&#1503;  <br/>&#8203;;'&lt;li/&gt;.&#1495;&#1497;&#1508;&#1493;&#1513;&#1497;&#1501;<br/>                     return;&#8203;<br/>                }&#8203;<br/>&#8203;<br/>                sortedSearches.forEach(search =&gt; {&#8203;<br/>                    const listItem = document.createElement('li');&#8203;<br/>                    // Truncate long URLs for display purposes&#8203;<br/>                    const displayName = search.url.length &gt; 35 ? <br/>search.url.substring(0, 32) + '...' : search.url;&#8203;<br/>                    listItem.textContent = `${displayName} <br/>(${search.count.toLocaleString()} &#1489;&#1491;&#1497;&#1511;&#1493;&#1514;)`;&#8203;<br/>                    listItem.className = 'py-1';&#8203;<br/>                    topSearchesList.appendChild(listItem);&#8203;<br/>                });&#8203;<br/>            }, (error) =&gt; {&#8203;<br/>                console.error(&quot;Error listening for top searches:&quot;, <br/>error);&#8203;<br/>                const topSearchesList = <br/>document.getElementById('topSearches');&#8203;<br/>                topSearchesList.innerHTML = '&lt;li&gt; &#1488;&#1514; &#1500;&#1496;&#1506;&#1493;&#1503; &#1492;&#1497;&#1492; &#1504;&#1497;&#1514;&#1503; &#1500;&#1488;  <br/>&#8203;;'&lt;li/&gt;.&#1492;&#1504;&#1514;&#1493;&#1504;&#1497;&#1501;<br/>            });&#8203;<br/>        }&#8203;<br/>        &#8203;</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>        /**&#8203;<br/>         * Checks the provided URL against the Google Safe Browsing <br/>API.&#8203;<br/>         */&#8203;<br/>        async function performSafetyCheck() {&#8203;<br/>            const urlToCheck = <br/>document.getElementById('urlInput').value.trim();&#8203;<br/>            const resultsDiv = document.getElementById('results');&#8203;<br/>            const loader = document.getElementById('loader');&#8203;<br/>            &#8203;<br/>            // API key is now included here&#8203;<br/>            const apiKey = 'AIzaSyDkl8DVlrtb2vLuWgZEGlHokuZELCwpO4Q';&#8203;<br/>&#8203;<br/>            resultsDiv.innerHTML = '';&#8203;<br/>            resultsDiv.className = 'text-center mt-6 p-4 rounded-lg <br/>text-xl font-bold'; // Reset styles&#8203;<br/>&#8203;<br/>            if (!urlToCheck) {&#8203;<br/>                resultsDiv.textContent = ' &#1500;&#1489;&#1491;&#1497;&#1511;&#1492; &#1499;&#1514;&#1493;&#1489;&#1514; &#1492;&#1499;&#1504;&#1497;&#1505;&#1493; &#1488;&#1504;&#1488; .';&#8203;<br/>                resultsDiv.classList.add('text-yellow-600');&#8203;<br/>                return;&#8203;<br/>            }&#8203;<br/>            &#8203;<br/>            loader.classList.remove('hidden');&#8203;<br/>            &#8203;<br/>            const apiUrl = <br/>`https://safebrowsing.googleapis.com/v4/threatMatches:find?key=${apiKe<br/>y}`;&#8203;<br/>&#8203;<br/>            try {&#8203;<br/>                const response = await fetch(apiUrl, {&#8203;<br/>                    method: 'POST',&#8203;<br/>                    headers: { 'Content-Type': 'application/json' },&#8203;<br/>                    body: JSON.stringify({&#8203;<br/>                        client: {&#8203;<br/>                            clientId: `safe-hebrew-checker-${appId}`,&#8203;<br/>                            clientVersion: '1.0.0'&#8203;<br/>                        },&#8203;<br/>                        threatInfo: {&#8203;<br/>                            threatTypes: ['MALWARE', <br/>'SOCIAL_ENGINEERING', 'THREAT_TYPE_UNSPECIFIED', 'UNWANTED_SOFTWARE', <br/>'POTENTIALLY_HARMFUL_APPLICATION'],&#8203;<br/>                            platformTypes: ['ANY_PLATFORM'],&#8203;<br/>                            threatEntryTypes: ['URL'],&#8203;<br/>                            threatEntries: [{ url: urlToCheck }]&#8203;<br/>                        }&#8203;<br/>                    })&#8203;<br/>                });&#8203;</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>&#8203;<br/>                if (!response.ok) {&#8203;<br/>                    throw new Error(`API Error: <br/>${response.statusText}`);&#8203;<br/>                }&#8203;<br/>&#8203;<br/>                const data = await response.json();&#8203;<br/>&#8203;<br/>                // If the response contains 'matches', the URL is <br/>considered unsafe.&#8203;<br/>                if (data.matches &amp;&amp; data.matches.length &gt; 0) {&#8203;<br/>                    resultsDiv.innerHTML = '&lt;strong&gt;&#1505;&#1499;&#1504;&#1492;!&lt;/strong&gt; <br/></p>
<p>,&#1502;&#1511;&#1493;&#1512;&#1493;&#1514;, &#1489;&#1502;&#1505;&#1508;&#1512; &#1489;&#1491;&#1497;&#1511;&#1492; &#1500;&#1488;&#1495;&#1512; . &lt;br <br/> .'<br/></p>
<p>                    resultsDiv.classList.add('bg-red-100',<br/> 'text-red-700')<br/>                } else <br/>                    // If no matches, the URL is not on the blocklist<br/>                    resultsDiv.innerHTML = '&lt;strong <br/>.&lt;/strong&gt;  . &lt;br <br/></p>
<p>&#1488;&#1497;&#1513;&#1497;&#1497;&#1508;&#1512;&#1496;&#1497;&#1500;&#1502;&#1505;&#1493;&#1493;&#1500;&#1489;&#1494;&#1492;&#1497;&#1512;&#1493;&#1500;&#1504;&#1492;&#1493;&#1497; ,&#1514;&#1502;&#1497; .<br/>                    resultsDiv.classList.add('bg-green-100'<br/>, 'text-green-700'<br/>               <br/>              <br/>                // Track the search in Firestore regardless of th<br/>e resul<br/>                await incrementSearchCount(urlToCheck<br/><br/>            } catch (error)<br/>                console.error('Error checking URL:', error<br/>                resultsDiv.textContent = &#1492;&#1489;&#1491;&#1497;&#1511;&#1489;&#1502;&#1492;&#1500;&#1513;&#1490;&#1497;&#1488;' &#1488;&#1497;&#1512;&#1506;<br/></p>
<p>&#1512;&#1489;&#1493;&#1488; .';<br/>                resultsDiv.classList.add('bg-yellow-100<br/>', 'text-yellow-700');<br/>            } finally {<br/>                loader.classList.add('hidden');<br/>            }<br/>        }<br/>        <br/>        // --- Global Setup ---<br/>        // Make the checkUrl function available globally so t<br/>he button's onclick can find it.<br/>        window.checkUrl = performSafetyCheck;<br/>&#8203;<br/>        // Initialize the page when it loads.<br/>        document.addEventListener('DOMContentLoaded', async () =&gt; {<br/>            updateVisitorCounter();</p>

</div></div>
<div style="page-break-before:always; page-break-after:always"><div><p>            await authenticateUser();&#8203;<br/>            listenForTopSearches();&#8203;<br/>        });&#8203;<br/>&#8203;<br/>    &lt;/script&gt;&#8203;<br/>&#8203;<br/>&lt;/body&gt;&#8203;<br/>&lt;/html&gt;&#8203;<br/> </p>

</div></div>
</body></html>