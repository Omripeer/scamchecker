<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Hebrew Phishing Checker (Final HTML File)</title><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 .p, p { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; margin:0pt; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .a { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .s2 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 11pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: "* "; color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
</style></head><body><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;!DOCTYPE html&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;html lang=&quot;he&quot; dir=&quot;rtl&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;head&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;meta charset=&quot;UTF-8&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 26pt;line-height: 108%;text-align: left;">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</p><p style="padding-left: 31pt;text-indent: 0pt;line-height: 13pt;text-align: right;">&lt;title&gt;<span class="s1">םידושח םירתא תקידבל ימניח ילכ </span>| <span class="s1">םירתא קדוב</span>&lt;/title&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 26pt;line-height: 108%;text-align: left;">&lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin&gt;</p><p style="padding-left: 5pt;text-indent: 26pt;line-height: 108%;text-align: left;"><a href="https://fonts.googleapis.com/css2?family=Assistant%3Awght%40400%3B700" class="a" target="_blank">&lt;link href=&quot;</a>https://fonts.googleapis.com/css2?family=Assistant:wght@400;700&amp; display=swap&quot; rel=&quot;stylesheet&quot;&gt;</p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;style&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;line-height: 108%;text-align: left;">/* Using a clear and friendly Hebrew font */ body {</p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">font-family: &#39;Assistant&#39;, sans-serif;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;/style&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;/head&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;body class=&quot;bg-gray-50 text-gray-800&quot;&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;container mx-auto p-4 sm:p-6 md:p-8 max-w-3xl&quot;&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;!-- Header Section --&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;header class=&quot;text-center mb-8&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;h1 class=&quot;text-4xl sm:text-5xl font-bold text-blue-600</p><p style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">mb-2&quot;&gt;<span class="s1">חוטבה םירתאה קדוב</span>&lt;/h1&gt;</p><p style="padding-left: 84pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;p class=&quot;text-lg sm:text-xl text-gray-600&quot;&gt;<span class="s1">רושיק םתלביק</span></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">שומישל חוטב אוה םא וקדבו רתאה תבותכ תא וקיבדה <span class="p">?</span>דושח<span class="p">.&lt;/p&gt;</span></p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;/header&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;!-- Main Checker Section --&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;main class=&quot;bg-white p-6 sm:p-8 rounded-2xl shadow-lg&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;flex flex-col items-center&quot;&gt;</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 13pt;text-align: left;">&lt;label for=&quot;urlInput&quot; class=&quot;sr-only&quot;&gt;<span class="s1">תא ןאכ וקיבדה</span></p><p class="s1" style="padding-left: 6pt;text-indent: 0pt;line-height: 14pt;text-align: right;">רתאה תבותכ<span class="p">&lt;/label&gt;</span></p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;input type=&quot;url&quot; id=&quot;urlInput&quot; placeholder=&quot;<span class="s1">וקיבדה</span></p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">המגודל<span class="p">) </span>רתאה תבותכ תא ןאכ<span class="p">: example.com)&quot; class=&quot;w-full text-center</span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">text-lg p-4 border-2 border-gray-300 rounded-xl mb-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition&quot;&gt;</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 105pt;line-height: 108%;text-align: left;">&lt;button onclick=&quot;checkUrl()&quot; class=&quot;w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white font-bold text-xl py-4 px-10 rounded-xl shadow-md hover:shadow-lg transition-transform transform hover:scale-105&quot;&gt;</p><p style="padding-left: 136pt;text-indent: 0pt;text-align: left;"><a href="http://www.w3.org/2000/svg" class="a" target="_blank">&lt;svg xmlns=&quot;</a>http://www.w3.org/2000/svg&quot; class=&quot;h-6</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">w-6 inline-block ml-2&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; stroke=&quot;currentColor&quot;&gt;</p><p style="padding-left: 163pt;text-indent: 0pt;text-align: left;">&lt;path stroke-linecap=&quot;round&quot;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">stroke-linejoin=&quot;round&quot; stroke-width=&quot;2&quot; d=&quot;M9 12l2 2 4-4m6 2a9 9 0</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">11-18 0 9 9 0 0118 0z&quot; /&gt;</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/svg&gt;</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 13pt;text-align: right;">הקידב</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">&lt;/button&gt;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;!-- Results Area --&gt;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;div id=&quot;loader&quot; class=&quot;text-center my-4 hidden&quot;&gt;</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;p class=&quot;text-blue-600 font-semibold&quot;&gt;,<span class="s1">רתאה תא קדוב</span></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">עגר וניתמה אנא<span class="p">...&lt;/p&gt;</span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 112pt;line-height: 108%;text-align: left;">&lt;div class=&quot;animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mt-2&quot;&gt;&lt;/div&gt;</p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 79pt;line-height: 108%;text-align: left;">&lt;div id=&quot;results&quot; class=&quot;text-center mt-6 p-4 rounded-lg text-xl font-bold&quot;&gt;&lt;/div&gt;</p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;/main&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;!-- Footer and Stats Section --&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;footer class=&quot;mt-8 text-center text-gray-500&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;bg-white p-6 rounded-2xl shadow-lg mb-6&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">&lt;h2 class=&quot;text-2xl font-bold text-gray-700</p><p style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">mb-4&quot;&gt;<span class="s1">הקיטסיטטסו םינותנ</span>&lt;/h2&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">items-center&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;flex flex-col sm:flex-row justify-around</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;!-- Visitor Counter --&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;mb-4 sm:mb-0&quot;&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;text-align: right;">רתאב<span class="p">:&lt;/h3&gt;</span></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;h3 class=&quot;text-lg font-semibold&quot;&gt;<span class="s1">םירקבמ</span></p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;p id=&quot;visitorCounter&quot; class=&quot;text-2xl</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 13pt;text-align: right;">רפסמ</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">font-bold text-blue-600&quot;&gt;0&lt;/p&gt;</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">&lt;!-- Top Searches --&gt;</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;div&gt;</p><p style="padding-left: 163pt;text-indent: 0pt;line-height: 14pt;text-align: left;">&lt;h3 class=&quot;text-lg font-semibold&quot;&gt;10 <span class="s1">תובותכה</span></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 13pt;text-align: right;">רתויב</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">תוקדבנה<span class="p">:&lt;/h3&gt;</span></p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;ul id=&quot;topSearches&quot; class=&quot;list-none</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">text-gray-600&quot;&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">JavaScript --&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;!-- Top searches will be populated by</p><p style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">&lt;li&gt;<span class="s1">םינותנ</span></p><p style="padding-top: 1pt;padding-left: 103pt;text-indent: 0pt;text-align: center;">&lt;/ul&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: center;">&lt;/div&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: center;">&lt;/div&gt;</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: center;">&lt;/div&gt;</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">ןעוט<span class="p">...&lt;/li&gt;</span></p><p style="padding-top: 2pt;padding-left: 84pt;text-indent: 0pt;text-align: right;">&lt;p class=&quot;text-sm&quot;&gt;© 2024 <span class="s1">ידכ רצונש ימניח ילכ </span>.<span class="s1">םירתא קדוב</span></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">תשרב םכתוחיטב לע רומשל<span class="p">.&lt;/p&gt;</span></p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">&lt;/footer&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;!-- Firebase and App Logic --&gt;</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;script type=&quot;module&quot;&gt;</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Import necessary Firebase functions import { initializeApp } from</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;"><a href="http://www.gstatic.com/firebasejs/11.6.1/firebase-app.js" class="a" target="_blank">&quot;https://</a>www.gstatic.com/firebasejs/11.6.1/firebase-app.js&quot;;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;"><a href="http://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js" class="a" target="_blank">import { getAuth, signInAnonymously, signInWithCustomToken } from &quot;https://</a>www.gstatic.com/firebasejs/11.6.1/firebase-auth.js&quot;;</p><p style="padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;"><a href="http://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js" class="a" target="_blank">import { getFirestore, collection, doc, getDocs, setDoc, onSnapshot, serverTimestamp, runTransaction } from &quot;https://</a>www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js&quot;;</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">// --- Firebase Configuration ---</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;">// These variables are provided by the environment and should not be changed.</p><p style="padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;">const firebaseConfig = typeof <span class="s2">&nbsp;&nbsp;&nbsp; </span>firebase_config !== &#39;undefined&#39; ? JSON.parse(<span class="s2"> &nbsp;&nbsp; </span>firebase_config) : { apiKey:</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">&quot;your-fallback-api-key&quot;, authDomain: &quot;your-fallback-auth-domain&quot;, projectId: &quot;your-fallback-project-id&quot; };</p><p style="padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;">const appId = typeof <span class="s2">&nbsp;&nbsp;&nbsp; </span>app_id !== &#39;undefined&#39; ? <span class="s2">&nbsp;&nbsp;&nbsp; </span>app_id : &#39;default-app-id&#39;;</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">// --- Initialize Firebase ---</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;line-height: 108%;text-align: left;">const app = initializeApp(firebaseConfig); const auth = getAuth(app);</p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">const db = getFirestore(app);</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Collection reference for storing search counts const searchesCollection = collection(db,</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">`artifacts/${appId}/public/data/searches`);</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">/**</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 59pt;line-height: 108%;text-align: left;">* Signs the user in. Uses a custom token if available, otherwise falls back to anonymous sign-in.</p><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;">*/</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: -26pt;line-height: 108%;text-align: left;">async function authenticateUser() { try {</p><p style="padding-left: 110pt;text-indent: 0pt;text-align: left;">if (typeof <span class="s2">&nbsp;&nbsp;&nbsp; </span>initial_auth_token !== &#39;undefined&#39; &amp;&amp;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="s2">&nbsp; </span>initial_auth_token) {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">await signInWithCustomToken(auth,</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"><span class="s2">&nbsp; </span>initial_auth_token);</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">} else {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">await signInAnonymously(auth);</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">} catch (error) {</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">console.error(&quot;Authentication failed:&quot;, error);</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">/**</p><ul id="l1"><li data-list-text="*"><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 59pt;line-height: 108%;text-align: left;">Updates the visitor counter on the page using the browser&#39;s local storage.</p></li><li data-list-text="*"><p style="padding-left: 77pt;text-indent: -13pt;text-align: left;">This counter is unique to each user&#39;s browser.</p><p style="padding-top: 1pt;padding-left: 64pt;text-indent: 0pt;text-align: left;">*/</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">function updateVisitorCounter() {</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;line-height: 108%;text-align: left;">let visits = localStorage.getItem(&#39;pageVisits&#39;); visits = visits ? Number(visits) + 1 : 1; localStorage.setItem(&#39;pageVisits&#39;, visits); document.getElementById(&#39;visitorCounter&#39;).textContent =</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">visits.toLocaleString();</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">/**</p></li><li data-list-text="*"><p style="padding-top: 1pt;padding-left: 77pt;text-indent: -13pt;text-align: left;">Increments the search count for a given URL in Firestore.</p></li><li data-list-text="*"><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 59pt;line-height: 108%;text-align: left;">Uses a transaction to ensure the count is updated atomically.</p></li><li data-list-text="*"><p style="padding-left: 77pt;text-indent: -13pt;text-align: left;">@param {string} url - The URL that was searched.</p><p style="padding-top: 1pt;padding-left: 64pt;text-indent: 0pt;text-align: left;">*/</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: -26pt;line-height: 108%;text-align: left;">async function incrementSearchCount(url) { if (!auth.currentUser) {</p><p style="padding-left: 110pt;text-indent: 0pt;text-align: left;">console.error(&quot;User not authenticated, cannot track</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">search.&quot;);</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: right;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">return;</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Sanitize URL to create a valid document ID const docId = url.replace(/[^a-zA-Z0-9.-]/g, &#39;_&#39;); const docRef = doc(searchesCollection, docId);</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">try {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: -26pt;line-height: 108%;text-align: left;">await runTransaction(db, async (transaction) =&gt; { const sfDoc = await transaction.get(docRef); if (!sfDoc.exists()) {</p><p style="padding-left: 5pt;text-indent: 158pt;line-height: 108%;text-align: left;">transaction.set(docRef, { url: url, count: 1, lastSearched: serverTimestamp() });</p><p style="padding-left: 136pt;text-indent: 0pt;text-align: left;">} else {</p><p style="padding-top: 1pt;padding-left: 163pt;text-indent: 0pt;line-height: 108%;text-align: left;">const newCount = sfDoc.data().count + 1; transaction.update(docRef, { count: newCount,</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">lastSearched: serverTimestamp() });</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">});</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">} catch (e) {</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">console.error(&quot;Transaction failed: &quot;, e);</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">/**</p></li><li data-list-text="*"><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 59pt;line-height: 108%;text-align: left;">Listens for real-time updates to the search data and displays the top 10.</p></li></ul><p style="padding-left: 64pt;text-indent: 0pt;text-align: left;">*/</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: -26pt;line-height: 108%;text-align: left;">function listenForTopSearches() { onSnapshot(searchesCollection, (snapshot) =&gt; {</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 108%;text-align: left;">const searchCounts = []; snapshot.forEach((doc) =&gt; {</p><p style="padding-left: 136pt;text-indent: 0pt;text-align: left;">searchCounts.push(doc.data());</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">});</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Sort by count descending and take the top 10 const sortedSearches = searchCounts.sort((a, b) =&gt;</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">b.count - a.count).slice(0, 10);</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 105pt;line-height: 108%;text-align: left;">const topSearchesList = document.getElementById(&#39;topSearches&#39;);</p><p style="padding-left: 110pt;text-indent: 0pt;text-align: left;">topSearchesList.innerHTML = &#39;&#39;; // Clear previous list</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;text-align: right;">םישופיח<span class="p">.&lt;/li&gt;&#39;;</span></p><p style="padding-top: 2pt;padding-left: 37pt;text-indent: -33pt;text-align: left;">if (sortedSearches.length === 0) { topSearchesList.innerHTML = &#39;&lt;li&gt;<span class="s1">ועצוב אל</span></p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 37pt;text-indent: 0pt;text-align: left;">return;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;text-align: right;">ןיידע</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 110pt;text-indent: 0pt;text-align: left;">sortedSearches.forEach(search =&gt; {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">const listItem = document.createElement(&#39;li&#39;);</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Truncate long URLs for display purposes const displayName = search.url.length &gt; 35 ?</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">search.url.substring(0, 32) + &#39;...&#39; : search.url;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 131pt;text-align: left;">listItem.textContent = `${displayName} (${search.count.toLocaleString()} <span class="s1">תוקידב</span>)`;</p><p style="padding-left: 136pt;text-indent: 0pt;line-height: 108%;text-align: left;">listItem.className = &#39;py-1&#39;; topSearchesList.appendChild(listItem);</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">error);</p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">});</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">}, (error) =&gt; {</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">console.error(&quot;Error listening for top searches:&quot;,</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">const topSearchesList =</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;">document.getElementById(&#39;topSearches&#39;);</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 14pt;text-align: left;">topSearchesList.innerHTML = &#39;&lt;li&gt;<span class="s1">תא ןועטל היה ןתינ אל</span></p><p class="s1" style="text-indent: 0pt;line-height: 14pt;text-align: right;">םינותנה<span class="p">.&lt;/li&gt;&#39;;</span></p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: right;">});</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">API.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">/**</p><p style="padding-top: 1pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">* Checks the provided URL against the Google Safe Browsing</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 11pt;text-indent: 0pt;text-align: left;">*/</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: -26pt;line-height: 108%;text-align: left;">async function performSafetyCheck() { const urlToCheck =</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">document.getElementById(&#39;urlInput&#39;).value.trim();</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;line-height: 108%;text-align: left;">const resultsDiv = document.getElementById(&#39;results&#39;); const loader = document.getElementById(&#39;loader&#39;);</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">// API key is now included here</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">const apiKey = &#39;AIzaSyDkl8DVlrtb2vLuWgZEGlHokuZELCwpO4Q&#39;;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">resultsDiv.innerHTML = &#39;&#39;;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 79pt;line-height: 108%;text-align: left;">resultsDiv.className = &#39;text-center mt-6 p-4 rounded-lg text-xl font-bold&#39;; // Reset styles</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;line-height: 12pt;text-align: left;">if (!urlToCheck) {</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 14pt;text-align: left;">resultsDiv.textContent = &#39;<span class="s1">הקידבל תבותכ וסינכה אנא</span>.&#39;;</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;line-height: 108%;text-align: left;">resultsDiv.classList.add(&#39;text-yellow-600&#39;); return;</p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-left: 84pt;text-indent: 0pt;line-height: 27pt;text-align: left;">loader.classList.remove(&#39;hidden&#39;); const apiUrl =</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 108%;text-align: left;">`https://safebrowsing.googleapis.com/v4/threatMatches:find?key=${apiKe y}`;</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">try {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: -26pt;line-height: 108%;text-align: left;">const response = await fetch(apiUrl, { method: &#39;POST&#39;,</p><p style="padding-left: 136pt;text-indent: 0pt;line-height: 108%;text-align: left;">headers: { &#39;Content-Type&#39;: &#39;application/json&#39; }, body: JSON.stringify({</p><p style="padding-left: 163pt;text-indent: 0pt;text-align: left;">client: {</p><p style="padding-top: 1pt;padding-left: 189pt;text-indent: 0pt;line-height: 108%;text-align: left;">clientId: `safe-hebrew-checker-${appId}`, clientVersion: &#39;1.0.0&#39;</p><p style="padding-left: 163pt;text-indent: 0pt;text-align: left;">},</p><p style="padding-top: 1pt;padding-left: 163pt;text-indent: 0pt;text-align: left;">threatInfo: {</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 184pt;line-height: 108%;text-align: left;">threatTypes: [&#39;MALWARE&#39;, &#39;SOCIAL_ENGINEERING&#39;, &#39;THREAT_TYPE_UNSPECIFIED&#39;, &#39;UNWANTED_SOFTWARE&#39;, &#39;POTENTIALLY_HARMFUL_APPLICATION&#39;],</p><p style="padding-left: 189pt;text-indent: 0pt;line-height: 108%;text-align: left;">platformTypes: [&#39;ANY_PLATFORM&#39;], threatEntryTypes: [&#39;URL&#39;], threatEntries: [{ url: urlToCheck }]</p><p style="padding-left: 163pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">})</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">});</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: center;">if (!response.ok) {</p><p style="padding-top: 1pt;padding-left: 105pt;text-indent: 0pt;text-align: center;">throw new Error(`API Error:</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: center;">${response.statusText}`);</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: center;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 105pt;text-indent: 0pt;text-align: center;">const data = await response.json();</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 105pt;line-height: 108%;text-align: left;">// If the response contains &#39;matches&#39;, the URL is considered unsafe.</p><p style="padding-left: 136pt;text-indent: -26pt;text-align: left;">if (data.matches &amp;&amp; data.matches.length &gt; 0) { resultsDiv.innerHTML = &#39;&lt;strong&gt;<span class="s1">הנכס</span>!&lt;/strong&gt;</p><p class="s1" style="padding-left: 6pt;text-indent: 0pt;line-height: 13pt;text-align: right;">ןימא אלכ עיפומ רתאה <span class="p">,</span>תורוקמ רפסמב הקידב רחאל<span class="p">. &lt;br&gt;</span>הסינכמ וענמיה אנא</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">םיישיא םיטרפ תריסממו רתאל<span class="p">.&#39;;</span></p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">resultsDiv.classList.add(&#39;bg-red-100&#39;,</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&#39;text-red-700&#39;);</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">} else {</p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">// If no matches, the URL is not on the blocklist.</p><p style="padding-left: 136pt;text-indent: 0pt;line-height: 14pt;text-align: left;">resultsDiv.innerHTML = &#39;&lt;strong&gt;<span class="s1">הארנ רתאה</span></p><p class="s1" style="padding-left: 6pt;text-indent: 0pt;line-height: 14pt;text-align: right;">חוטב<span class="p">.&lt;/strong&gt; </span>ונקדבש םירגאמב רתאה לע ילילש עדימ אצמנ אל<span class="p">. &lt;br&gt;,</span>תאז םע</p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">םיישיא םיטרפ רוסמל אלו תוריהזב גוהנל שי דימת<span class="p">.&#39;;</span></p><p style="padding-top: 1pt;padding-left: 136pt;text-indent: 0pt;text-align: left;">resultsDiv.classList.add(&#39;bg-green-100&#39;,</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&#39;text-green-700&#39;);</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">result.</p><p style="padding-top: 2pt;padding-left: 31pt;text-indent: 0pt;line-height: 217%;text-align: left;">// Track the search in Firestore regardless of the await incrementSearchCount(urlToCheck);</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 12pt;text-align: left;">} catch (error) {</p><p style="padding-top: 1pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">console.error(&#39;Error checking URL:&#39;, error);</p><p style="padding-left: 110pt;text-indent: 0pt;line-height: 14pt;text-align: left;">resultsDiv.textContent = &#39;.<span class="s1">הקידבה ךלהמב האיגש העריא</span></p><p class="s1" style="padding-left: 31pt;text-indent: 0pt;line-height: 14pt;text-align: right;">רתוי רחואמ בוש וסנ אנא<span class="p">.&#39;;</span></p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 105pt;line-height: 108%;text-align: left;">resultsDiv.classList.add(&#39;bg-yellow-100&#39;, &#39;text-yellow-700&#39;);</p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">} finally {</p><p style="padding-top: 1pt;padding-left: 110pt;text-indent: 0pt;text-align: left;">loader.classList.add(&#39;hidden&#39;);</p><p style="padding-top: 1pt;padding-left: 84pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 1pt;padding-left: 57pt;text-indent: 0pt;text-align: left;">}</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">// --- Global Setup ---</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 52pt;line-height: 108%;text-align: left;">// Make the checkUrl function available globally so the button&#39;s onclick can find it.</p><p style="padding-left: 57pt;text-indent: 0pt;text-align: left;">window.checkUrl = performSafetyCheck;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 57pt;text-indent: 0pt;line-height: 108%;text-align: left;">// Initialize the page when it loads. document.addEventListener(&#39;DOMContentLoaded&#39;, async () =&gt; {</p><p style="padding-left: 84pt;text-indent: 0pt;text-align: left;">updateVisitorCounter();</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: right;">});</p><p style="padding-top: 1pt;padding-left: 4pt;text-indent: 0pt;line-height: 108%;text-align: left;">await authenticateUser(); listenForTopSearches();</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 31pt;text-indent: 0pt;text-align: left;">&lt;/script&gt;</p><p style="padding-top: 2pt;text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;/body&gt;</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">&lt;/html&gt;</p></body></html>
